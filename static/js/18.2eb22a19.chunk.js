"use strict";(self.webpackChunkproject_react_twitter_cards=self.webpackChunkproject_react_twitter_cards||[]).push([[18],{8018:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(3433),o=r(9439),l=r(2791),i=r(5861),a=r(4687),s=r.n(a),c=r(1243);function u(){return(u=(0,i.Z)(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("page",t),e.prev=1,e.next=4,c.Z.get("/users",{params:{completed:!1,page:"".concat(t),limit:3},signal:r.signal});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}c.Z.defaults.baseURL="https://6444e238914c816083c15cad.mockapi.io/";var p=r(5987),x=r(1889),d=r(4554),f=r(3044),h=r(890),g=r(6151),w=r(6935),b=r(184),Z=function(e){var t=e.props,r=t.user,n=t.avatar,o=t.followers,l=t.tweets,i=t.isFollow,a=e.handleFollow,s=e.id,c=i?"#5CD3A8":"#EBD8FF",u=i?"Following":"Follow";return(0,b.jsxs)(d.Z,{sx:{position:"relative",paddingBottom:"36px",paddingTop:"28px",width:"380px",height:"460px",backgroundColor:"rgba(87, 54, 163, 1)",borderRadius:"10px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)(d.Z,{sx:{position:"absolute",left:"-1px",top:"214px",width:"380px",height:"8px",backgroundColor:"#EBD8FF",border:"1px solid #000000",boxShadow:"0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06), inset 0px -1.71846px 3.43693px #AE7BE3, inset 0px 3.43693px 2.5777px #FBF8FF"}}),(0,b.jsx)(d.Z,{sx:{position:"absolute",left:"150px",top:"174px",zIndex:"100",borderRadius:"50%",borderWidth:"8px",borderColor:"#EBD8FF",borderStyle:"solid",boxShadow:" 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06), inset 0px -2.19582px 4.39163px #AE7BE3, inset 0px 4.39163px 3.29372px #FBF8FF;"},children:(0,b.jsx)(f.Z,{variant:"circular",alt:r,src:n,sx:{width:80,height:80}})}),(0,b.jsx)(d.Z,{sx:{width:"308px",height:"168px",backgroundImage:"url(".concat(w,")"),backgroundSize:"cover"}}),(0,b.jsxs)(d.Z,{sx:{textTransform:"uppercase",lineHeight:"1.2",color:"#EBD8FF",textAlign:"center"},children:[(0,b.jsxs)(h.Z,{sx:{marginBottom:"16px",fontSize:"20px"},children:[l,"\xa0tweets"]}),(0,b.jsxs)(h.Z,{sx:{marginBottom:"26px",fontSize:"20px"},children:[o,"\xa0followers"]}),(0,b.jsx)(g.Z,{variant:"contained",sx:{color:"rgba(55, 55, 55, 1)",fontSize:"18px",backgroundColor:"".concat(c),width:"196px",borderRadius:"10px"},onClick:function(){return a(s)},children:u})]})]})},m=["id"],F=function(e){var t=e.users,r=e.handleFollow;return(0,b.jsx)(x.ZP,{container:!0,spacing:3,sx:{marginLeft:"0"},children:t.map((function(e){var t=e.id,n=(0,p.Z)(e,m);return(0,b.jsx)(x.ZP,{item:!0,xs:2,sm:4,md:4,children:(0,b.jsx)(Z,{id:t,props:n,handleFollow:r})},t)}))})},v=r(4925),j=r(9891),S=r(6362),k=r(5558),C=function(e){var t=e.filter,r=e.handleChange;return(0,b.jsx)(d.Z,{sx:{minWidth:120,fontSize:"24px",marginBottom:"30px",marginTop:"30px"},children:(0,b.jsxs)(S.Z,{fullWidth:!0,children:[(0,b.jsx)(v.Z,{id:"select-label",children:"Show"}),(0,b.jsxs)(k.Z,{labelId:"select-label",id:"select",value:t,label:"Filter",onChange:r,children:[(0,b.jsx)(j.Z,{value:"all",children:"All"}),(0,b.jsx)(j.Z,{value:"follow",children:"Follow"}),(0,b.jsx)(j.Z,{value:"following",children:"Followings show all"})]})]})})},B=r(1087),E="cardUsers";function y(){var e=(0,l.useState)(1),t=(0,o.Z)(e,2),r=t[0],i=t[1],a=(0,l.useState)([]),s=(0,o.Z)(a,2),c=s[0],p=s[1],x=(0,l.useState)(""),f=(0,o.Z)(x,2),h=f[0],w=f[1],Z=(0,l.useState)((function(){var e=JSON.parse(localStorage.getItem(E));return null===e?[]:e})),m=(0,o.Z)(Z,2),v=m[0],j=m[1];return(0,l.useEffect)((function(){localStorage.setItem(E,JSON.stringify(v))}),[v]),(0,l.useEffect)((function(){var e=new AbortController;return function(e,t){return u.apply(this,arguments)}(r,e).then((function(e){var t=e.map((function(e){var t=e.user,r=e.avatar,n=e.id;return{user:t,avatar:r,followers:e.followers,tweets:e.tweets,id:n,isFollow:!1}}));p((function(e){return console.log("prevState",e),[].concat((0,n.Z)(e),(0,n.Z)(t))}))})).catch((function(e){return console.error(e)})),function(){e.abort()}}),[r]),(0,l.useEffect)((function(){switch(h){case"all":j((0,n.Z)(c));break;case"follow":j((0,n.Z)(c.filter((function(e){return!1===e.isFollow}))));break;case"following":j((0,n.Z)(c.filter((function(e){return!0===e.isFollow}))));break;default:return}}),[h,c]),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(g.Z,{children:(0,b.jsx)(B.OL,{style:{textDecoration:"none",color:"var(--mui-palette-primary-light)"},to:"/",children:"Go back"})}),(0,b.jsx)(C,{handleChange:function(e){w(e.target.value)},filter:h}),(0,b.jsx)(F,{users:v,handleFollow:function(e){var t=c.find((function(t){return t.id===e})),r=c.map((function(e){return e.id===t.id&&(e.isFollow=!e.isFollow,e.followers=e.isFollow?e.followers+=1:e.followers-=1),e}));p((0,n.Z)(r))}}),0!==v.length&&(0,b.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,b.jsx)(g.Z,{variant:"contained",sx:{marginTop:"30px",marginBottom:"30px"},onClick:function(){return i((function(e){return e+1}))},children:"LOAD MORE"})})]})}},6935:function(e,t,r){e.exports=r.p+"static/media/picture21.032662a2a907475127d7.png"}}]);
//# sourceMappingURL=18.2eb22a19.chunk.js.map